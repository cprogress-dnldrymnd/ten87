<?php

function post_slider($atts)
{
    extract(
        shortcode_atts(
            array(
                'post_type' => '',
            ),
            $atts
        )
    );
    ob_start();

    $args = array(
        'numberposts' => -1,
        'post_type' => $post_type,
        'orderby'    => 'menu_order',
        'order' => 'asc'
    );

    $posts = get_posts($args);

?>
    <div class="post-slider-holder">
        <div class="swiper mySwiperPostSlider">
            <div class="swiper-wrapper">
                <?php foreach ($posts as $post) { ?>
                    <?php
                    $args = array(
                        'bg' => get_the_post_thumbnail_url($post->ID, 'full'),
                        'title' => $post->post_title,
                        'post_excerpt' => $post->post_excerpt,
                        'post_id' => $post->ID
                    );

                    get_template_part('template-parts/studio/studio-swiper-slide', 'null', $args);
                    ?>
                <?php } ?>
            </div>
            <?= swiper_navigation() ?>
        </div>
    </div>
<?php
    return ob_get_clean();
}

add_shortcode('post_slider', 'post_slider');



function location_map()
{
?>
    <div class="ten87-map">
        <?= do_shortcode('[wp_simple_locator_map]') ?>
    </div>
<?php
}

add_shortcode('location_map', 'location_map');


function socials()
{
    ob_start();
    $tiktok_url = get__theme_option('tiktok_url');
    $instagram_url = get__theme_option('instagram_url');
    $facebook_url = get__theme_option('facebook_url');
    $linkedin_url = get__theme_option('linkedin_url');
?>
    <div class="social-box">
        <h5 class="widget-title">
            Stay in the loop
        </h5>
        <ul>
            <?php if ($instagram_url) { ?>
                <li>
                    <a href="<?= $instagram_url ?>" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="60.212" height="60.212" viewBox="0 0 60.212 60.212">
                            <path id="Exclusion_1" data-name="Exclusion 1" d="M30.106,60.212A30.114,30.114,0,0,1,18.387,2.366a30.114,30.114,0,0,1,23.437,55.48A29.917,29.917,0,0,1,30.106,60.212Zm.017-45.084c-2.67,0-5.04.04-6.185.105a8.856,8.856,0,0,0-6.282,2.416,7.538,7.538,0,0,0-1.826,2.9,11.787,11.787,0,0,0-.6,3.384c-.141,2.486-.141,9.885,0,12.371a11.635,11.635,0,0,0,.594,3.385,7.732,7.732,0,0,0,4.729,4.721,11.724,11.724,0,0,0,3.382.6c1.145.065,3.515.106,6.185.106s5.04-.04,6.185-.106a11.627,11.627,0,0,0,3.385-.594,7.736,7.736,0,0,0,4.721-4.726,11.746,11.746,0,0,0,.6-3.385c.141-2.484.141-9.879,0-12.364a8.812,8.812,0,0,0-2.422-6.282,7.58,7.58,0,0,0-2.9-1.823,11.754,11.754,0,0,0-3.385-.6C35.163,15.168,32.793,15.128,30.123,15.128Zm2.658,27.3c-.563,0-1.105-.006-1.584-.01-.392,0-.76-.008-1.07-.008s-.665,0-1.047.007c-.469,0-1,.01-1.547.01-2.008,0-4.839-.064-6.244-.619a5.063,5.063,0,0,1-2.85-2.851c-.672-1.693-.635-5.35-.61-7.771,0-.389.008-.757.008-1.067s0-.661-.007-1.041v0c-.023-2.43-.058-6.1.61-7.794a5.064,5.064,0,0,1,2.85-2.85c1.4-.556,4.2-.62,6.191-.62.562,0,1.1.005,1.581.01.389,0,.757.008,1.067.008s.661,0,1.041-.007h0c.466,0,.994-.01,1.543-.01,2.01,0,4.845.064,6.251.619a5.066,5.066,0,0,1,2.851,2.85c.671,1.693.634,5.35.61,7.771,0,.39-.008.758-.008,1.068s0,.677.008,1.067c.025,2.424.062,6.084-.61,7.771a5.065,5.065,0,0,1-2.851,2.851C37.563,42.364,34.764,42.428,32.78,42.428Zm-2.654-20a7.675,7.675,0,1,0,5.439,2.248A7.64,7.64,0,0,0,30.126,22.432Zm8-2.108a1.793,1.793,0,1,0,1.793,1.793A1.8,1.8,0,0,0,38.128,20.324Zm-8,14.793a5,5,0,1,1,5-5A5,5,0,0,1,30.126,35.117Z" fill="currentColor" />
                        </svg>
                    </a>
                </li>
            <?php } ?>
            <?php if ($facebook_url) { ?>
                <li>
                    <a href="<?= $facebook_url ?>" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="60.212" height="60.212" viewBox="0 0 60.212 60.212">
                            <path id="Exclusion_2" data-name="Exclusion 2" d="M30.106,60.212A30.114,30.114,0,0,1,18.387,2.366a30.114,30.114,0,0,1,23.437,55.48A29.917,29.917,0,0,1,30.106,60.212ZM22.058,26.546v5.439h4.777V45.132h5.879V31.984H37.1l.834-5.439H32.715v-3.53a2.719,2.719,0,0,1,3.066-2.938h2.372V15.447a29.138,29.138,0,0,0-4.212-.367,7.1,7.1,0,0,0-5.165,1.892A7.472,7.472,0,0,0,26.836,22.4v4.145Z" fill="currentColor" />
                        </svg>
                    </a>
                </li>
            <?php } ?>
            <?php if ($tiktok_url) { ?>
                <li>
                    <a href="<?= $tiktok_url ?>" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="60.212" height="60.212" viewBox="0 0 60.212 60.212">
                            <path id="Exclusion_3" data-name="Exclusion 3" d="M30.106,60.212A30.114,30.114,0,0,1,18.387,2.366a30.114,30.114,0,0,1,23.437,55.48A29.917,29.917,0,0,1,30.106,60.212ZM26.414,26.388a9.508,9.508,0,0,0-6.14,2.308,9.4,9.4,0,0,0-3.241,6.231c-.022.533-.018,1.11.012,1.871a9.464,9.464,0,0,0,4.585,7.173,9.2,9.2,0,0,0,4.662,1.307c.155,0,.311,0,.464-.013a9.134,9.134,0,0,0,4.192-1.13,9.314,9.314,0,0,0,3.232-2.9,9.65,9.65,0,0,0,1.7-4.95C35.9,34,35.9,31.665,35.9,29.41V29.4c0-1.348,0-2.742,0-4.113a15.652,15.652,0,0,0,2.035,1.169,13.345,13.345,0,0,0,5.276,1.219V22.615a8.991,8.991,0,0,1-5.327-2.249A6.851,6.851,0,0,1,36.3,17.959a8.817,8.817,0,0,1-.609-2.831c-.654,0-1.318.006-1.961.007-.966,0-1.964,0-2.951.018-.023,3.156-.022,6.366-.021,9.47,0,1.865,0,3.793,0,5.693,0,.589,0,1.187,0,1.765v0c0,1.625.006,3.306-.087,4.965a2.715,2.715,0,0,1-.473,1.26l-.042.072a4.235,4.235,0,0,1-3.48,2.022c-.1.009-.21.014-.316.014a4.3,4.3,0,0,1-4.081-3.62c0-.105-.005-.213-.009-.318a4.071,4.071,0,0,1,.185-1.7,4.342,4.342,0,0,1,1.709-2.2,4.1,4.1,0,0,1,2.342-.694,4.708,4.708,0,0,1,1.451.228c0-.8.014-1.609.028-2.393.018-1.044.037-2.123.023-3.185A8.566,8.566,0,0,0,26.414,26.388Z" fill="currentColor" />
                        </svg>
                    </a>
                </li>
            <?php } ?>
            <?php if ($linkedin_url) { ?>
                <li>
                    <a href="<?= $linkedin_url ?>" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="60.212" height="60.212" viewBox="0 0 60.212 60.212">
                            <path id="Exclusion_4" data-name="Exclusion 4" d="M30.106,60.212A30.114,30.114,0,0,1,18.387,2.366a30.114,30.114,0,0,1,23.437,55.48A29.917,29.917,0,0,1,30.106,60.212Zm5.648-30.086a2.726,2.726,0,0,1,2.822,1.787A10.212,10.212,0,0,1,39,35.449v9.785h6.235V34.192c0-3.2-.423-5.3-1.37-6.807-1.167-1.854-3.165-2.755-6.108-2.755a7.165,7.165,0,0,0-3.779,1.031,5.947,5.947,0,0,0-2.127,2.215h-.087V25.133H25.776v20.1h6.235V35.281a7.027,7.027,0,0,1,.654-3.56A3.2,3.2,0,0,1,35.754,30.126ZM15.625,25.133v20.1h6.242v-20.1Zm3.118-10.005a3.627,3.627,0,0,0-2.556,6.188,3.573,3.573,0,0,0,5.112,0,3.626,3.626,0,0,0-2.556-6.188Z" fill="currentColor" />
                        </svg>
                    </a>
                </li>
            <?php } ?>
        </ul>
    </div>
<?php
    return ob_get_clean();
}


add_shortcode('socials', 'socials');
